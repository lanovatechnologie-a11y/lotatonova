<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOTATO - Système de Borlette Professionnel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --primary-color: #ad00f1;
            --secondary-color: #3498db;
            --accent-color: #05790d;
            --success-color: #f08c00;
            --warning-color: #1cf100;
            --light-color: #ecf0f1;
            --dark-color: #0004ff;
            --miami-color: #e74c3c;
            --georgia-color: #031a8e;
            --newyork-color: #e99700;
            --texas-color: #5d0b2a;
            --tunisia-color: #1abc9c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            min-height: 100vh;
        }
        
        .container {
            padding: 15px;
            padding-bottom: 80px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), #1a2530);
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-image {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--warning-color);
        }
        
        .logo {
            font-size: 2.5rem;
            color: var(--warning-color);
        }
        
        .header-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .header-text p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .time-display {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .draws-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .draw-card {
            background-color: white;
            border-radius: 12px;
            box-shadow:  ​0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .draw-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .draw-card.miami {
            border-top: 5px solid var(--miami-color);
        }
        
        .draw-card.georgia {
            border-top: 5px solid var(--georgia-color);
        }
        
        .draw-card.newyork {
            border-top: 5px solid var(--newyork-color);
        }
        
        .draw-card.texas {
            border-top: 5px solid var(--texas-color);
        }
        
        .draw-card.tunisia {
            border-top: 5px solid var(--tunisia-color);
        }
        
        .draw-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .miami .draw-icon {
            color: var(--miami-color);
        }
        
        .georgia .draw-icon {
            color: var(--georgia-color);
        }
        
        .newyork .draw-icon {
            color: var(--newyork-color);
        }
        
        .texas .draw-icon {
            color: var(--texas-color);
        }
        
        .tunisia .draw-icon {
            color: var(--tunisia-color);
        }
        
        .draw-card h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .draw-buttons {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }
        
        .draw-btn {
            flex: 1;
            padding: 6px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            background-color: var(--light-color);
            transition: background-color 0.3s;
        }
        
        .draw-btn:hover {
            background-color: #dde4e6;
        }
        
        .draw-btn.active {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .draw-btn.morning {
            background-color: #f39c12;
            color: white;
        }
        
        .draw-btn.evening {
            background-color: #2c3e50;
            color: white;
        }
        
        .results-section {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light-color);
        }
        
        .section-title i {
            margin-right: 10px;
            color: var(--secondary-color);
        }
        
        .section-title h2 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .result-card {
            background-color: var(--light-color);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        
        .result-card h4 {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .result-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: 0 auto;
            z-index: 1000;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #7f8c8d;
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--secondary-color);
        }
        
        .nav-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .multi-draw-panel {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .multi-draw-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .multi-draw-title {
            font-size: 1.2rem;
            color: var(--primary-color);
        }
        
        .multi-draw-toggle {
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .multi-draw-content {
            display: none;
        }
        
        .multi-draw-content.expanded {
            display: block;
        }
        
        .multi-draw-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .multi-draw-option {
            background-color: var(--light-color);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .multi-draw-option:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .multi-draw-option.selected {
            background-color: var(--success-color);
            color: white;
        }
        
        .multi-draw-form {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .betting-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .betting-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-color);
        }
        
        .back-button {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-right: 15px;
            cursor: pointer;
        }
        
        .betting-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        .bet-types-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .bet-type-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .bet-type-card:hover {
            transform: scale(1.05);
        }
        
        .bet-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .bet-type-card h3 {
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .bet-multiplier {
            font-size: 0.9rem;
            color: var(--success-color);
            font-weight: bold;
        }
        
        .bet-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .bet-option {
            background-color: var(--light-color);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .bet-option:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .bet-option-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .bet-option h3 {
            font-size: 1.2rem;
        }
        
        .bet-form {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .number-inputs {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .number-inputs input {
            text-align: center;
            font-size: 1.2rem;
        }
        
        .bet-actions {
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn-primary {
            background-color: var(--secondary-color);
            color: white;
            flex: 2;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: var(--light-color);
            color: var(--dark-color);
            flex: 1;
        }
        
        .btn-secondary:hover {
            background-color: #dde4e6;
        }
        
        .active-bets {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .bet-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--light-color);
        }
        
        .bet-item:last-child {
            border-bottom: none;
        }
        
        .bet-details {
            flex: 2;
        }
        
        .bet-amount {
            flex: 1;
            text-align: right;
            font-weight: bold;
        }
        
        .bet-remove {
            color: var(--accent-color);
            margin-left: 10px;
            cursor: pointer;
        }
        
        .bet-total {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid var(--light-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .submit-bet {
            background-color: var(--success-color);
            color: white;
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            font-size: 1.1rem;
        }
        
        .submit-bet:hover {
            background-color: #219955;
        }
        
        .lotto-options {
            margin-bottom: 15px;
        }
        
        .option-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }
        
        .n-balls-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .n-ball {
            background-color: var(--light-color);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .n-ball:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .quick-bet-form {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .quick-number-input {
            flex: 2;
        }
        
        .quick-amount-input {
            flex: 1;
        }
        
        .screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .screen-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-color);
        }
        
        .screen-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .slide-in {
            animation: slideIn 0.3s forwards;
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); }
            to { transform: translateX(100%); }
        }
        
        .slide-out {
            animation: slideOut 0.3s forwards;
        }
        
        @media print {
            body * {
                visibility: hidden;
            }
            .print-ticket, .print-ticket * {
                visibility: visible;
            }
            .print-ticket {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            
            .ticket-logo {
                max-width: 80px;
                height: auto;
            }
        }
        
        .config-section {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .config-status {
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .status-connected {
            background-color: #d4edda;
            color: #155724;
        }
        
        .status-disconnected {
            background-color: #f8d7da;
            color: #e400b2;
        }
        
        .draw-info {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .draw-info h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .draw-info p {
            margin-bottom: 5px;
        }

        .bo-ball {
            background-color: var(--warning-color);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: bold;
        }
        
        .bo-ball:hover {
            background-color: #e67e22;
        }

        .multi-option {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .multi-option:hover {
            background-color: #f5f5f5;
        }
        
        .multi-option.selected {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .multi-option input {
            width: auto;
        }
        
        .ticket-actions {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .ticket-action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .save-ticket {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .save-ticket:hover {
            background-color: #2300a0;
        }
        
        .print-ticket-btn {
            background-color: var(--success-color);
            color: white;
        }
        
        .print-ticket-btn:hover {
            background-color: #219955;
        }
        
        .history-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stat-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .history-item {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 10px;
            position: relative;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid var(--light-color);
        }
        
        .history-draw {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .history-date {
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .history-bets {
            margin-bottom: 10px;
        }
        
        .history-bet {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 0.9rem;
        }
        
        .history-total {
            display: flex;
            justify-content: space-between;
            padding-top: 10px;
            border-top: 1px solid var(--light-color);
            font-weight: bold;
        }
        
        .ticket-footer {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--light-color);
        }
        
        .ticket-footer-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .search-history {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .search-input {
            flex: 2;
        }
        
        .search-btn {
            flex: 1;
            background-color: var(--secondary-color);
            color: white;
        }
        
        .search-btn:hover {
            background-color: #2980b9;
        }
        
        .reports-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .report-btn {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
            border: none;
            font-weight: bold;
        }
        
        .report-btn:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .report-btn.general {
            grid-column: 1 / -1;
            background-color: var(--warning-color);
            color: white;
        }
        
        .report-btn.general:hover {
            background-color: #e67e22;
        }
        
        .report-results {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-top: 15px;
        }
        
        .report-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--light-color);
        }
        
        .report-item:last-child {
            border-bottom: none;
        }

        .save-print-btn {
            background-color: var(--warning-color);
            color: white;
        }
        
        .save-print-btn:hover {
            background-color: #e67e22;
        }

        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary-color), #1a2530);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .login-container {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 400px;
        }
        
        .login-logo {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .login-logo .logo {
            font-size: 3rem;
            color: var(--warning-color);
        }
        
        .login-title {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary-color);
        }
        
        .login-error {
            background-color: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 15px;
            text-align: center;
            display: none;
        }
        
        .bets-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        
        .bets-table th {
            background-color: var(--light-color);
            padding: 10px;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #ddd;
        }
        
        .bets-table td {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
        }
        
        .bets-table tr:hover {
            background-color: #f9f9f9;
        }
        
        .grouped-bets {
            background-color: #f8f9fa;
            border-left: 4px solid var(--secondary-color);
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        .group-header {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .group-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 5px;
            margin-top: 5px;
        }
        
        .group-item {
            background-color: white;
            padding: 5px;
            border-radius: 4px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .bet-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .bet-summary:last-child {
            border-bottom: none;
        }
        
        .bet-type {
            font-weight: bold;
            min-width: 100px;
        }
        
        .bet-numbers {
            flex: 1;
            text-align: center;
        }
        
        .bet-amount-summary {
            min-width: 80px;
            text-align: right;
            font-weight: bold;
        }
        
        .sync-status {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .sync-connected {
            background-color: var(--success-color);
            color: white;
        }
        
        .sync-disconnected {
            background-color: var(--accent-color);
            color: white;
        }
        
        .sync-pending {
            background-color: var(--warning-color);
            color: white;
        }
        
        .notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 90%;
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }
        
        .notification.success {
            background-color: var(--success-color);
        }
        
        .notification.warning {
            background-color: var(--warning-color);
        }
        
        .notification.error {
            background-color: var(--accent-color);
        }
        
        .notification i {
            font-size: 1.2rem;
        }
        
        .ticket-logo-container {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .ticket-logo {
            max-width: 100px;
            height: auto;
            border-radius: 10px;
        }
        
        .sync-check-btn {
            background-color: var(--warning-color);
            color: white;
        }
        
        .sync-check-btn:hover {
            background-color: #e67e22;
        }
        
        .pending-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .bet-type-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .bet-type-nav-item {
            background-color: var(--light-color);
            padding: 10px 15px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .bet-type-nav-item:hover {
            background-color: #dde4e6;
        }
        
        .bet-type-nav-item.active {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        .edit-btn {
            background-color: var(--warning-color);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-left: 5px;
        }
        
        .edit-btn:hover {
            background-color: #e67e22;
        }
        
        .delete-btn {
            background-color: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-left: 5px;
        }
        
        .delete-btn:hover {
            background-color: #c0392b;
        }
        
        .auto-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .auto-btn {
            flex: 1;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .auto-btn:hover {
            background-color: #2980b9;
        }
        
        .auto-btn.reverse {
            background-color: var(--tunisia-color);
        }
        
        .auto-btn.reverse:hover {
            background-color: #16a085;
        }
        
        .pair-ball {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .pair-ball:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .report-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .report-container {
            padding: 15px;
        }
        
        .report-header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }
        
        .report-details {
            margin-bottom: 20px;
        }
        
        .report-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .report-row.total {
            font-weight: bold;
            border-top: 2px solid #333;
            border-bottom: none;
            padding-top: 15px;
            margin-top: 10px;
        }
        
        .report-profit {
            color: var(--success-color);
            font-weight: bold;
        }
        
        .report-loss {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .all-graps-btn {
            background-color: var(--warning-color);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .all-graps-btn:hover {
            background-color: #e67e22;
        }
        
        .multi-game-select {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .multi-game-option {
            background-color: var(--light-color);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .multi-game-option:hover {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .multi-game-option.selected {
            background-color: var(--success-color);
            color: white;
        }
        
        .ticket-management {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .ticket-management-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .ticket-actions-buttons {
            display: flex;
            gap: 10px;
        }
        
        .ticket-search-box {
            margin-bottom: 15px;
        }
        
        .ticket-details {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
        }
        
        .game-category {
            margin-bottom: 20px;
        }
        
        .game-category-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--light-color);
        }
        
        .game-category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .game-item {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid var(--secondary-color);
        }
        
        .game-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .game-item.borlette {
            border-left-color: var(--miami-color);
        }
        
        .game-item.lotto {
            border-left-color: var(--newyork-color);
        }
        
        .game-item.special {
            border-left-color: var(--success-color);
        }
        
        .game-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .game-multiplier {
            font-size: 0.9rem;
            color: var(--warning-color);
            font-weight: bold;
        }
        
        .all-categories-container {
            display: block;
        }
        
        .game-category {
            display: block !important;
        }
        
        .results-check-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .winning-ticket {
            background-color: #d4edda;
            border-left: 4px solid var(--success-color);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
        }
        
        .winning-amount {
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .lot-result {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 5px;
        }
        
        .lot-number {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .lot-multiplier {
            color: var(--warning-color);
            font-weight: bold;
        }
        
        .check-results-btn {
            background-color: var(--success-color);
            color: white;
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
        
        .check-results-btn:hover {
            background-color: #219955;
        }
        
        .multi-draw-ticket {
            background-color: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .multi-draw-ticket-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ffc107;
        }
        
        .multi-draw-bets-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 10px;
        }
        
        .multi-draw-bet-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .multi-draw-bet-item:last-child {
            border-bottom: none;
        }
        
        .total-notification {
            position: fixed;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 90%;
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translate(-50%, -20px);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }
        
        .total-notification .total-amount {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .multi-draw-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .multi-draw-action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .add-to-multi-draw {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .add-to-multi-draw:hover {
            background-color: #2980b9;
        }
        
        .view-multi-draw-ticket {
            background-color: var(--warning-color);
            color: white;
        }
        
        .view-multi-draw-ticket:hover {
            background-color: #e67e22;
        }
        
        .multi-tickets-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: white;
            z-index: 100;
            padding: 20px;
            overflow-y: auto;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .multi-ticket-item {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 15px;
            margin-bottom: 10px;
            border-left: 4px solid var(--warning-color);
        }
        
        .options-container {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .option-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 8px;
            background-color: white;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .option-checkbox:hover {
            background-color: #e9ecef;
        }
        
        .option-checkbox input {
            width: auto;
            margin-right: 5px;
        }
        
        .option-checkbox .option-multiplier {
            margin-left: auto;
            font-weight: bold;
            color: var(--success-color);
        }
        
        .manual-balls-input {
            margin-bottom: 15px;
        }
        
        .manual-balls-input input {
            font-family: monospace;
        }
        
        .balls-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .ball-tag {
            background-color: var(--light-color);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .ball-tag .remove-ball {
            color: var(--accent-color);
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .connection-check {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .connection-content {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 400px;
            width: 100%;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
        }
        
        .status-indicator.connected {
            background-color: var(--success-color);
        }
        
        .status-indicator.disconnected {
            background-color: var(--accent-color);
        }
        
        .connection-status {
            margin: 10px 0;
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <!-- Écran de connexion -->
    <div class="login-screen" id="login-screen">
        <div class="login-container">
            <div class="login-logo">
                <div class="logo">
                    <i class="fas fa-dice"></i>
                </div>
            </div>
            <h2 class="login-title">LOTATO</h2>
            <div class="login-error" id="login-error">
                Identifiant ou mot de passe incorrect
            </div>
            <div class="form-group">
                <label for="admin-username">Identifiant</label>
                <input type="text" id="admin-username" placeholder="Votre identifiant">
            </div>
            <div class="form-group">
                <label for="admin-password">Mot de passe</label>
                <input type="password" id="admin-password" placeholder="••••••••">
            </div>
            <div class="form-group">
                <label for="admin-role">Rôle</label>
                <select id="admin-role">
                    <option value="agent">Agent</option>
                    <option value="supervisor">Superviseur</option>
                    <option value="subsystem">Sous-système</option>
                    <option value="master">Master</option>
                </select>
            </div>
            <button class="submit-bet" id="login-btn">Se Connecter</button>
        </div>
    </div>
    
    <!-- Vérification de connexion -->
    <div class="connection-check" id="connection-check" style="display: none;">
        <div class="connection-content">
            <h3>Vérification Connexion</h3>
            <div class="connection-status">
                <div class="status-indicator disconnected" id="internet-status"></div>
                <span id="internet-text">Internet: Non connecté</span>
            </div>
            <div class="connection-status">
                <div class="status-indicator disconnected" id="server-status"></div>
                <span id="server-text">Serveur: Non connecté</span>
            </div>
            <p id="connection-message">Veuillez patienter pendant la vérification des connexions...</p>
            <div class="bet-actions" style="margin-top: 20px;">
                <button class="btn-primary" id="retry-connection">Réessayer</button>
                <button class="btn-secondary" id="cancel-print">Annuler</button>
            </div>
        </div>
    </div>
    
    <!-- Écran de rapport -->
    <div class="report-screen" id="report-screen">
        <div class="screen-header">
            <button class="back-button" id="back-from-report">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Rapport Fin Tirage</h2>
        </div>
        <div class="report-container" id="report-content">
            <!-- Le rapport sera généré ici -->
        </div>
    </div>
    
    <!-- Écran de vérification des résultats -->
    <div class="results-check-screen" id="results-check-screen">
        <div class="screen-header">
            <button class="back-button" id="back-from-results">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Vérifier Tickets Gagnants</h2>
        </div>
        
        <div style="margin-bottom: 20px;">
            <div class="draw-info">
                <h4>Résultats Dernier Tirage</h4>
                <div id="latest-results">
                    <!-- Les résultats seront chargés ici -->
                </div>
            </div>
            
            <button class="check-results-btn" id="check-winners-btn">
                <i class="fas fa-trophy"></i> Vérifier Tickets Gagnants
            </button>
            
            <div style="margin-top: 20px;" id="winning-summary">
                <!-- Résumé des gains -->
            </div>
        </div>
        
        <div id="winning-tickets-container">
            <!-- Les tickets gagnants seront affichés ici -->
        </div>
    </div>
    
    <!-- Écran pour visualiser les tickets multi-tirages -->
    <div class="multi-tickets-screen" id="multi-tickets-screen">
        <div class="screen-header">
            <button class="back-button" id="back-from-multi-tickets">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Tickets Multi-Tirages</h2>
        </div>
        
        <div id="multi-tickets-list">
            <!-- Les tickets multi-tirages seront affichés ici -->
        </div>
    </div>
    
    <!-- Indicateur de synchronisation -->
    <div class="sync-status sync-disconnected" id="sync-status" style="display: none;">
        <i class="fas fa-cloud"></i> <span id="sync-text">Non Connecté</span>
    </div>
    
    <div class="container" id="main-container" style="display: none;">
        <header>
            <div class="header-content">
                <div class="logo-container">
                    <img src="logo-borlette.jpg" alt="Logo Nova Lotto" class="logo-image" id="company-logo">
                    <div class="logo">
                        <i class="fas fa-dice"></i>
                    </div>
                </div>
                <div class="header-text">
                    <h1>Lotato</h1>
                    <p id="agent-name">Agent</p>
                </div>
            </div>
            <div class="time-display">
                <i class="fas fa-clock"></i> <span id="current-time">Chargement...</span>
            </div>
            <div style="margin-top: 10px;">
                <button class="check-results-btn" id="open-results-check">
                    <i class="fas fa-search"></i> Vérifier Résultats et Tickets Gagnants
                </button>
            </div>
            <div style="margin-top: 10px;">
                <button class="check-results-btn" id="open-multi-tickets">
                    <i class="fas fa-ticket-alt"></i> Voir Tickets Multi-Tirages
                </button>
            </div>
        </header>
        
        <!-- Panneau Multi-Tirages amélioré -->
        <div class="multi-draw-panel">
            <div class="multi-draw-header">
                <h3 class="multi-draw-title">Jouer sur Plusieurs Tirages</h3>
                <button class="multi-draw-toggle" id="multi-draw-toggle">
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div>
            <div class="multi-draw-content" id="multi-draw-content">
                <div class="multi-draw-grid" id="multi-draw-options">
                    <!-- Les options seront ajoutées dynamiquement -->
                </div>
                
                <!-- Sélection des jeux -->
                <div class="multi-game-select" id="multi-game-select">
                    <!-- Les jeux seront ajoutés dynamiquement -->
                </div>
                
                <div class="multi-draw-form">
                    <div class="form-group" id="multi-number-inputs">
                        <!-- Les champs de nombre seront ajoutés dynamiquement -->
                    </div>
                    <div class="form-group">
                        <label for="multi-draw-amount">Montant par tirage</label>
                        <input type="number" id="multi-draw-amount" placeholder="Montant" min="1" value="1">
                    </div>
                    
                    <div class="multi-draw-actions">
                        <button class="multi-draw-action-btn add-to-multi-draw" id="add-to-multi-draw">
                            <i class="fas fa-plus"></i> Ajouter au Ticket Multi-Tirages
                        </button>
                        <button class="multi-draw-action-btn view-multi-draw-ticket" id="view-current-multi-ticket">
                            <i class="fas fa-eye"></i> Voir Ticket Actuel
                        </button>
                    </div>
                </div>
                
                <div id="current-multi-ticket-info" style="display: none; margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 8px;">
                    <h4>Ticket Multi-Tirages Actuel</h4>
                    <div id="multi-ticket-summary">
                        <!-- Résumé du ticket actuel -->
                    </div>
                    <div class="multi-draw-actions" style="margin-top: 10px;">
                        <button class="ticket-action-btn save-print-btn" id="save-print-multi-ticket">
                            <i class="fas fa-save"></i> <i class="fas fa-print"></i> Enregistrer & Imprimer Ticket
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="draws-container">
            <div class="draw-card miami" data-draw="miami">
                <div class="draw-icon">
                    <i class="fas fa-sun"></i>
                </div>
                <h3>Miami</h3>
                <div class="draw-buttons">
                    <button class="draw-btn morning active" data-time="morning">1:30 PM</button>
                    <button class="draw-btn evening" data-time="evening">9:50 PM</button>
                </div>
                <div class="draw-countdown">Chargement...</div>
            </div>
            
            <div class="draw-card georgia" data-draw="georgia">
                <div class="draw-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <h3>Georgia</h3>
                <div class="draw-buttons">
                    <button class="draw-btn morning active" data-time="morning">12:30 PM</button>
                    <button class="draw-btn evening" data-time="evening">7:00 PM</button>
                </div>
                <div class="draw-countdown">Chargement...</div>
            </div>
            
            <div class="draw-card newyork" data-draw="newyork">
                <div class="draw-icon">
                    <i class="fas fa-building"></i>
                </div>
                <h3>New York</h3>
                <div class="draw-buttons">
                    <button class="draw-btn morning active" data-time="morning">2:30 PM</button>
                    <button class="draw-btn evening" data-time="evening">8:00 PM</button>
                </div>
                <div class="draw-countdown">Chargement...</div>
            </div>
            
            <div class="draw-card texas" data-draw="texas">
                <div class="draw-icon">
                    <i class="fas fa-hat-cowboy"></i>
                </div>
                <h3>Texas</h3>
                <div class="draw-buttons">
                    <button class="draw-btn morning active" data-time="morning">12:00 PM</button>
                    <button class="draw-btn evening" data-time="evening">6:00 PM</button>
                </div>
                <div class="draw-countdown">Chargement...</div>
            </div>
            
            <div class="draw-card tunisia" data-draw="tunisia">
                <div class="draw-icon">
                    <i class="fas fa-flag"></i>
                </div>
                <h3>Tunisie</h3>
                <div class="draw-buttons">
                    <button class="draw-btn morning active" data-time="morning">10:30 AM</button>
                    <button class="draw-btn evening" data-time="evening">2:00 PM</button>
                </div>
                <div class="draw-countdown">Chargement...</div>
            </div>
        </div>
        
        <div class="results-section">
            <div class="section-title">
                <i class="fas fa-trophy"></i>
                <h2>Derniers Résultats</h2>
            </div>
            
            <div class="results-grid" id="results-grid">
                <!-- Les résultats seront chargés dynamiquement -->
            </div>
            
            <div class="ticket-actions" style="margin-top: 15px;">
                <button class="ticket-action-btn save-print-btn" id="generate-report-btn">
                    <i class="fas fa-file-alt"></i> Générer Rapport Fin Tirage
                </button>
            </div>
        </div>
    </div>
    
    <div class="bottom-nav" id="bottom-nav" style="display: none;">
        <div class="nav-item active" data-screen="home">
            <div class="nav-icon">
                <i class="fas fa-home"></i>
            </div>
            <span>Accueil</span>
        </div>
        <div class="nav-item" data-screen="history">
            <div class="nav-icon">
                <i class="fas fa-history"></i>
            </div>
            <span>Historique</span>
        </div>
        <div class="nav-item" data-screen="ticket-management">
            <div class="nav-icon">
                <i class="fas fa-file-invoice"></i>
            </div>
            <span>Gérer tickets</span>
        </div>
        <div class="nav-item" id="logout-btn">
            <div class="nav-icon">
                <i class="fas fa-sign-out-alt"></i>
            </div>
            <span>Déconnexion</span>
        </div>
    </div>
    
    <!-- Écran de sélection des paris -->
    <div class="betting-screen" id="betting-screen">
        <div class="betting-header">
            <button class="back-button" id="back-button">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="betting-title" id="betting-title">Paris</h2>
            <div style="margin-left: auto;">
                <button class="submit-bet" id="confirm-bet-top" style="padding: 8px 15px; font-size: 0.9rem;">
                    <i class="fas fa-check"></i> Confirmer Paris
                </button>
            </div>
        </div>
        
        <div id="total-notification-container" style="margin-bottom: 15px;">
            <!-- La notification du total sera affichée ici -->
        </div>
        
        <div class="bet-type-navigation" id="bet-type-nav" style="display: none;">
            <!-- Sera rempli dynamiquement -->
        </div>
        
        <div id="games-interface" class="all-categories-container">
            <div class="game-category" id="borlette-category">
                <div class="game-category-title">BORLETTE</div>
                <div class="game-category-grid">
                    <div class="game-item borlette" data-game="borlette">
                        <div class="game-name">BORLETTE</div>
                        <div class="game-multiplier">× 60 (1er lot)</div>
                        <small>2 chiffres - 1er lot ×60, 2e ×20, 3e ×10</small>
                    </div>
                    <div class="game-item borlette" data-game="boulpe">
                        <div class="game-name">BOUL PE</div>
                        <div class="game-multiplier">× 60 (1er lot)</div>
                        <small>Boul pe (00-99)</small>
                    </div>
                </div>
            </div>
            
            <div class="game-category" id="lotto-category">
                <div class="game-category-title">LOTTO</div>
                <div class="game-category-grid">
                    <div class="game-item lotto" data-game="lotto3">
                        <div class="game-name">LOTO 3</div>
                        <div class="game-multiplier">× 500</div>
                        <small>3 chiffres (lot 1 + 1 chiffre devant)</small>
                    </div>
                    <div class="game-item lotto" data-game="lotto4">
                        <div class="game-name">LOTO 4</div>
                        <div class="game-multiplier">× 5000</div>
                        <small>4 chiffres (lot 1+2 accumulate) - 3 options</small>
                    </div>
                    <div class="game-item lotto" data-game="lotto5">
                        <div class="game-name">LOTO 5</div>
                        <div class="game-multiplier">× 25000</div>
                        <small>5 chiffres (lot 1+2+3 accumulate) - 3 options</small>
                    </div>
                </div>
            </div>
            
            <div class="game-category" id="special-category">
                <div class="game-category-title">JEUX SPÉCIAUX</div>
                <div class="game-category-grid">
                    <div class="game-item special" data-game="grap">
                        <div class="game-name">GRAP</div>
                        <div class="game-multiplier">× 500</div>
                        <small>Boule paire (111, 222...)</small>
                    </div>
                    <div class="game-item special" data-game="marriage">
                        <div class="game-name">MARIAGE</div>
                        <div class="game-multiplier">× 1000</div>
                        <small>Mariage 2 chiffres</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="auto-buttons" id="auto-buttons" style="display: none;">
            <button class="auto-btn" id="auto-marriage-btn">Mariage Automatique</button>
            <button class="auto-btn" id="auto-lotto4-btn">Lotto 4 Automatique</button>
        </div>
        
        <div class="bet-form" id="bet-form">
            <!-- Le formulaire de pari sera chargé dynamiquement -->
        </div>
        
        <div class="active-bets" id="active-bets">
            <div class="ticket-actions">
                <button class="ticket-action-btn save-print-btn" id="save-print-ticket">
                    <i class="fas fa-save"></i> <i class="fas fa-print"></i> Enregistrer & Imprimer Ticket
                </button>
            </div>
            <h3>Paris Actifs</h3>
            <div id="bets-list">
                <!-- Liste des paris actifs -->
            </div>
            <div class="bet-total">
                <span>Total:</span>
                <span id="bet-total">0 G</span>
            </div>
        </div>
    </div>
    
    <!-- Écran de gestion des tickets -->
    <div class="screen" id="ticket-management-screen">
        <div class="screen-header">
            <button class="back-button" data-screen="home">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Gérer Vos Tickets</h2>
        </div>
        
        <div class="ticket-search-box">
            <div class="search-history">
                <input type="text" id="search-ticket-number" class="search-input" placeholder="Rechercher ticket par numéro...">
                <button class="search-btn" id="search-ticket-btn">
                    <i class="fas fa-search"></i> Rechercher
                </button>
            </div>
        </div>
        
        <div id="ticket-management-list">
            <!-- Les tickets seront chargés dynamiquement -->
        </div>
    </div>
    
    <!-- Écran des tickets -->
    <div class="screen" id="tickets-screen">
        <div class="screen-header">
            <button class="back-button" data-screen="home">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Ticket de Paris</h2>
        </div>
        
        <div class="active-bets">
            <div class="ticket-logo-container">
                <img src="logo-borlette.jpg" alt="Logo Nova Lotto" class="ticket-logo" id="ticket-logo">
            </div>
            <div class="bet-total">
                <span>Numéro Ticket:</span>
                <span id="ticket-number">#000000</span>
            </div>
            <div class="bet-total">
                <span>Date:</span>
                <span id="ticket-date">Chargement...</span>
            </div>
            <div id="ticket-bets-list">
                <!-- Liste des paris pour le ticket -->
            </div>
            <div class="bet-total">
                <span>Total:</span>
                <span id="ticket-total">0 G</span>
            </div>
            <div class="ticket-footer">
                <button class="ticket-footer-btn print-ticket-btn" id="print-ticket-only">Imprimer Ticket</button>
            </div>
        </div>
    </div>
    
    <!-- Écran historique -->
    <div class="screen" id="history-screen">
        <div class="screen-header">
            <button class="back-button" data-screen="home">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 class="screen-title">Historique Paris</h2>
        </div>
        
        <div class="search-history">
            <input type="text" id="search-history" class="search-input" placeholder="Rechercher ticket...">
            <button class="search-btn" id="search-history-btn">
                <i class="fas fa-search"></i> Rechercher
            </button>
        </div>
        
        <div id="history-list">
            <!-- L'historique sera chargé dynamiquement -->
        </div>
    </div>

    <script>
        // Configuration API
        const API_BASE_URL = window.location.origin;
        const API_CONFIG = {
            health: `${API_BASE_URL}/api/health`,
            login: `${API_BASE_URL}/api/auth/login`,
            verify: `${API_BASE_URL}/api/auth/verify`,
            statistics: `${API_BASE_URL}/api/statistics`,
            agents: `${API_BASE_URL}/api/agents`,
            supervisors: `${API_BASE_URL}/api/supervisors`,
            createAgent: `${API_BASE_URL}/api/agents/create`,
            activities: `${API_BASE_URL}/api/activities/recent`,
            tickets: `${API_BASE_URL}/api/tickets`,
            reports: `${API_BASE_URL}/api/reports/generate`,
            settings: `${API_BASE_URL}/api/system/settings`,
            initMaster: `${API_BASE_URL}/api/init/master`,
            initSubsystem: `${API_BASE_URL}/api/init/subsystem`
        };

        // Variables globales
        let currentDraw = null;
        let currentDrawTime = null;
        let activeBets = [];
        let currentUser = null;
        let authToken = null;
        let draws = {};
        let pendingSyncTickets = [];

        // Types de paris
        const betTypes = {
            lotto3: {
                name: "LOTO 3",
                multiplier: 500,
                icon: "fas fa-list-ol",
                description: "3 chiffres (lot 1 + 1 chiffre devant)",
                category: "lotto"
            },
            grap: {
                name: "GRAP",
                multiplier: 500,
                icon: "fas fa-chart-line",
                description: "Grap boule paire (111, 222, ..., 000)",
                category: "special"
            },
            marriage: {
                name: "MARIAGE",
                multiplier: 1000,
                icon: "fas fa-link",
                description: "Mariage 2 chiffres (ex: 12*34)",
                category: "special"
            },
            borlette: {
                name: "BORLETTE",
                multiplier: 60,
                multiplier2: 20,
                multiplier3: 10,
                icon: "fas fa-dice",
                description: "2 chiffres (1er lot ×60, 2e ×20, 3e ×10)",
                category: "borlette"
            },
            boulpe: {
                name: "BOUL PE",
                multiplier: 60,
                multiplier2: 20,
                multiplier3: 10,
                icon: "fas fa-circle",
                description: "Boul pe (00-99)",
                category: "borlette"
            },
            lotto4: {
                name: "LOTO 4",
                multiplier: 5000,
                icon: "fas fa-list-ol",
                description: "4 chiffres (lot 1+2 accumulate) - 3 options",
                category: "lotto"
            },
            lotto5: {
                name: "LOTO 5",
                multiplier: 25000,
                icon: "fas fa-list-ol",
                description: "5 chiffres (lot 1+2+3 accumulate) - 3 options",
                category: "lotto"
            }
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Initialisation LOTATO...");
            
            // Vérifier la session existante
            checkExistingSession();
            
            // Mettre à jour l'heure
            updateCurrentTime();
            
            // Charger les données sauvegardées
            loadSavedData();
            
            // Configurer les événements
            setupEventListeners();
            
            // Initialiser le panneau multi-tirages
            initMultiDrawPanel();
            
            // Mettre à jour périodiquement
            setInterval(updateCurrentTime, 60000);
            setInterval(checkServerHealth, 30000);
            
            console.log("Initialisation terminée");
        });

        // Vérifier la session existante
        async function checkExistingSession() {
            const savedToken = localStorage.getItem('novaLottoToken');
            const savedUser = localStorage.getItem('novaLottoUser');
            
            if (savedToken && savedUser) {
                try {
                    // Vérifier la validité du token
                    const response = await fetch(`${API_CONFIG.verify}?token=${encodeURIComponent(savedToken)}`);
                    const data = await response.json();
                    
                    if (data.success && data.valid) {
                        authToken = savedToken;
                        currentUser = JSON.parse(savedUser);
                        showMainApp();
                        updateUserDisplay();
                        loadDrawsData();
                    } else {
                        clearSession();
                        showLoginScreen();
                    }
                } catch (error) {
                    console.error("Erreur vérification session:", error);
                    clearSession();
                    showLoginScreen();
                }
            } else {
                showLoginScreen();
            }
        }

        // Configurer les événements
        function setupEventListeners() {
            // Connexion
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('admin-password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') handleLogin();
            });

            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                if (!item.id.includes('logout')) {
                    item.addEventListener('click', function() {
                        const screen = this.getAttribute('data-screen');
                        showScreen(screen);
                    });
                }
            });

            // Déconnexion
            document.getElementById('logout-btn').addEventListener('click', handleLogout);

            // Tirages
            document.querySelectorAll('.draw-card').forEach(card => {
                card.addEventListener('click', function() {
                    const drawId = this.getAttribute('data-draw');
                    openBettingScreen(drawId, 'morning');
                });
            });

            document.querySelectorAll('.draw-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const card = this.closest('.draw-card');
                    const drawId = card.getAttribute('data-draw');
                    const time = this.getAttribute('data-time');
                    
                    card.querySelectorAll('.draw-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    openBettingScreen(drawId, time);
                });
            });

            // Boutons de retour
            document.getElementById('back-button').addEventListener('click', closeBettingScreen);
            document.getElementById('back-from-report').addEventListener('click', function() {
                document.getElementById('report-screen').style.display = 'none';
                document.querySelector('.container').style.display = 'block';
            });
            document.getElementById('back-from-results').addEventListener('click', function() {
                document.getElementById('results-check-screen').style.display = 'none';
                document.querySelector('.container').style.display = 'block';
            });
            document.getElementById('back-from-multi-tickets').addEventListener('click', function() {
                document.getElementById('multi-tickets-screen').style.display = 'none';
                document.querySelector('.container').style.display = 'block';
            });

            // Multi-tirages
            document.getElementById('multi-draw-toggle').addEventListener('click', toggleMultiDrawPanel);
            document.getElementById('add-to-multi-draw').addEventListener('click', addToMultiDrawTicket);
            document.getElementById('view-current-multi-ticket').addEventListener('click', viewCurrentMultiDrawTicket);
            document.getElementById('save-print-multi-ticket').addEventListener('click', saveAndPrintMultiDrawTicket);
            document.getElementById('open-multi-tickets').addEventListener('click', openMultiTicketsScreen);

            // Tickets
            document.getElementById('save-print-ticket').addEventListener('click', saveAndPrintTicket);
            document.getElementById('print-ticket-only').addEventListener('click', printTicket);
            document.getElementById('confirm-bet-top').addEventListener('click', submitBets);
            document.getElementById('generate-report-btn').addEventListener('click', generateEndOfDrawReport);
            document.getElementById('open-results-check').addEventListener('click', openResultsCheckScreen);
            document.getElementById('check-winners-btn').addEventListener('click', checkWinningTickets);
            document.getElementById('search-ticket-btn').addEventListener('click', searchTicket);
            document.getElementById('search-history-btn').addEventListener('click', searchHistory);
        }

        // Gestion de la connexion
        async function handleLogin() {
            const username = document.getElementById('admin-username').value.trim();
            const password = document.getElementById('admin-password').value.trim();
            const role = document.getElementById('admin-role').value;

            if (!username || !password) {
                showLoginError("Veuillez entrer l'identifiant et le mot de passe");
                return;
            }

            try {
                const response = await fetch(API_CONFIG.login, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ username, password, role })
                });

                const data = await response.json();

                if (data.success) {
                    authToken = data.token;
                    currentUser = data.user;
                    
                    // Sauvegarder la session
                    localStorage.setItem('novaLottoToken', authToken);
                    localStorage.setItem('novaLottoUser', JSON.stringify(currentUser));
                    
                    showMainApp();
                    updateUserDisplay();
                    loadDrawsData();
                    
                    showNotification("Connexion réussie!", "success");
                } else {
                    showLoginError(data.error || "Identifiants incorrects");
                }
            } catch (error) {
                console.error("Erreur connexion:", error);
                showLoginError("Erreur de connexion au serveur");
            }
        }

        // Déconnexion
        function handleLogout() {
            if (confirm("Voulez-vous vraiment vous déconnecter?")) {
                clearSession();
                showLoginScreen();
                showNotification("Déconnexion réussie", "info");
            }
        }

        // Effacer la session
        function clearSession() {
            localStorage.removeItem('novaLottoToken');
            localStorage.removeItem('novaLottoUser');
            authToken = null;
            currentUser = null;
        }

        // Afficher l'écran de connexion
        function showLoginScreen() {
            document.getElementById('login-screen').style.display = 'flex';
            document.getElementById('main-container').style.display = 'none';
            document.getElementById('bottom-nav').style.display = 'none';
            document.getElementById('sync-status').style.display = 'none';
        }

        // Afficher l'application principale
        function showMainApp() {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-container').style.display = 'block';
            document.getElementById('bottom-nav').style.display = 'flex';
            document.getElementById('sync-status').style.display = 'flex';
            updateSyncStatus(true);
        }

        // Mettre à jour l'affichage de l'utilisateur
        function updateUserDisplay() {
            if (currentUser) {
                document.getElementById('agent-name').textContent = currentUser.name || currentUser.username;
            }
        }

        // Afficher une erreur de connexion
        function showLoginError(message) {
            document.getElementById('login-error').textContent = message;
            document.getElementById('login-error').style.display = 'block';
            setTimeout(() => {
                document.getElementById('login-error').style.display = 'none';
            }, 3000);
        }

        // Charger les données sauvegardées
        function loadSavedData() {
            const savedPending = localStorage.getItem('novaLottoPendingSync');
            if (savedPending) {
                pendingSyncTickets = JSON.parse(savedPending);
            }
        }

        // Mettre à jour l'heure actuelle
        function updateCurrentTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' };
            const dateString = now.toLocaleDateString('fr-FR', options);
            const timeString = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
            
            document.getElementById('current-time').textContent = `${dateString} - ${timeString}`;
        }

        // Vérifier la santé du serveur
        async function checkServerHealth() {
            try {
                const response = await fetch(API_CONFIG.health);
                const data = await response.json();
                
                if (data.success && data.database === 'connected') {
                    updateSyncStatus(true);
                    syncPendingTickets();
                } else {
                    updateSyncStatus(false);
                }
            } catch (error) {
                console.error("Erreur santé serveur:", error);
                updateSyncStatus(false);
            }
        }

        // Mettre à jour le statut de synchronisation
        function updateSyncStatus(connected) {
            const syncStatus = document.getElementById('sync-status');
            const syncText = document.getElementById('sync-text');
            
            if (connected) {
                syncStatus.className = 'sync-status sync-connected';
                syncText.textContent = 'Connecté';
            } else {
                syncStatus.className = 'sync-status sync-disconnected';
                syncText.textContent = 'Non Connecté';
            }
        }

        // Synchroniser les tickets en attente
        async function syncPendingTickets() {
            if (pendingSyncTickets.length === 0 || !authToken) return;

            for (let i = pendingSyncTickets.length - 1; i >= 0; i--) {
                const ticket = pendingSyncTickets[i];
                
                try {
                    const response = await fetch(`${API_BASE_URL}/api/tickets/create`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'x-auth-token': authToken
                        },
                        body: JSON.stringify(ticket)
                    });

                    if (response.ok) {
                        // Retirer le ticket synchronisé
                        pendingSyncTickets.splice(i, 1);
                        localStorage.setItem('novaLottoPendingSync', JSON.stringify(pendingSyncTickets));
                    }
                } catch (error) {
                    console.error("Erreur synchronisation ticket:", error);
                }
            }
        }

        // Charger les données des tirages
        async function loadDrawsData() {
            // Données de base des tirages (à adapter selon votre backend)
            draws = {
                miami: {
                    name: "Miami (Florida)",
                    times: {
                        morning: "1:30 PM",
                        evening: "9:50 PM"
                    }
                },
                georgia: {
                    name: "Georgia",
                    times: {
                        morning: "12:30 PM",
                        evening: "7:00 PM"
                    }
                },
                newyork: {
                    name: "New York",
                    times: {
                        morning: "2:30 PM",
                        evening: "8:00 PM"
                    }
                },
                texas: {
                    name: "Texas",
                    times: {
                        morning: "12:00 PM",
                        evening: "6:00 PM"
                    }
                },
                tunisia: {
                    name: "Tunisie",
                    times: {
                        morning: "10:30 AM",
                        evening: "2:00 PM"
                    }
                }
            };

            // Mettre à jour les compteurs (simulation)
            document.querySelectorAll('.draw-countdown').forEach(element => {
                const hours = Math.floor(Math.random() * 24);
                const minutes = Math.floor(Math.random() * 60);
                element.textContent = `${hours}h ${minutes}min`;
            });
        }

        // Ouvrir l'écran de pari
        function openBettingScreen(drawId, time = null) {
            if (!draws[drawId]) {
                showNotification("Tirage non disponible", "error");
                return;
            }

            currentDraw = drawId;
            currentDrawTime = time;
            const draw = draws[drawId];
            
            let title = draw.name;
            if (time) {
                title += ` (${time === 'morning' ? 'Matin' : 'Soir'})`;
            }
            document.getElementById('betting-title').textContent = title;
            
            const bettingScreen = document.getElementById('betting-screen');
            bettingScreen.style.display = 'block';
            bettingScreen.classList.remove('slide-out');
            bettingScreen.classList.add('slide-in');
            
            document.querySelector('.container').style.display = 'none';
            
            document.getElementById('games-interface').style.display = 'block';
            document.getElementById('bet-type-nav').style.display = 'none';
            document.getElementById('auto-buttons').style.display = 'none';
            document.getElementById('bet-form').style.display = 'none';
            document.getElementById('active-bets').style.display = 'block';
            
            setupGameSelection();
            updateBetsList();
        }

        // Configurer la sélection des jeux
        function setupGameSelection() {
            document.querySelectorAll('.game-item').forEach(item => {
                item.addEventListener('click', function() {
                    const gameType = this.getAttribute('data-game');
                    showBetForm(gameType);
                });
            });
        }

        // Afficher le formulaire de pari
        function showBetForm(gameType) {
            const bet = betTypes[gameType];
            if (!bet) return;

            document.getElementById('games-interface').style.display = 'none';
            document.getElementById('bet-type-nav').style.display = 'none';
            document.getElementById('auto-buttons').style.display = 'none';
            
            const betForm = document.getElementById('bet-form');
            betForm.style.display = 'block';
            
            let formHTML = '';
            
            switch(gameType) {
                case 'lotto3':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="quick-bet-form">
                            <input type="text" id="lotto3-number" class="quick-number-input" 
                                   placeholder="000" maxlength="3" pattern="[0-9]{3}">
                            <input type="number" id="lotto3-amount" class="quick-amount-input" 
                                   placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'marriage':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="form-group">
                            <label>2 Chiffres</label>
                            <div class="number-inputs">
                                <input type="text" id="marriage-number1" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                                <input type="text" id="marriage-number2" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                            </div>
                        </div>
                        <div class="quick-bet-form">
                            <input type="number" id="marriage-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'borlette':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="quick-bet-form">
                            <input type="text" id="borlette-number" class="quick-number-input" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                            <input type="number" id="borlette-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'boulpe':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="quick-bet-form">
                            <input type="text" id="boulpe-number" class="quick-number-input" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                            <input type="number" id="boulpe-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'lotto4':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="form-group">
                            <label>4 Chiffres</label>
                            <div class="number-inputs">
                                <input type="text" id="lotto4-number1" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                                <input type="text" id="lotto4-number2" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                            </div>
                        </div>
                        <div class="quick-bet-form">
                            <input type="number" id="lotto4-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'lotto5':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="form-group">
                            <label>5 Chiffres</label>
                            <div class="number-inputs">
                                <input type="text" id="lotto5-number1" placeholder="000" maxlength="3" pattern="[0-9]{3}">
                                <input type="text" id="lotto5-number2" placeholder="00" maxlength="2" pattern="[0-9]{2}">
                            </div>
                        </div>
                        <div class="quick-bet-form">
                            <input type="number" id="lotto5-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
                    
                case 'grap':
                    formHTML = `
                        <h3>${bet.name} - ${bet.description}</h3>
                        <div class="quick-bet-form">
                            <input type="text" id="grap-number" class="quick-number-input" 
                                   placeholder="111" maxlength="3" pattern="[0-9]{3}">
                            <input type="number" id="grap-amount" class="quick-amount-input" placeholder="Montant" min="1">
                            <button class="btn-primary" id="add-bet">Ajouter</button>
                        </div>
                        <div class="bet-actions">
                            <button class="btn-secondary" id="return-to-types">Retour</button>
                        </div>
                    `;
                    break;
            }
            
            betForm.innerHTML = formHTML;
            
            // Configurer le bouton d'ajout
            const addButton = document.getElementById('add-bet');
            if (addButton) {
                addButton.addEventListener('click', function() {
                    addBet(gameType);
                });
            }
            
            // Configurer le bouton de retour
            const returnButton = document.getElementById('return-to-types');
            if (returnButton) {
                returnButton.addEventListener('click', function() {
                    document.getElementById('bet-form').style.display = 'none';
                    document.getElementById('games-interface').style.display = 'block';
                });
            }
        }

        // Ajouter un pari
        function addBet(gameType) {
            const bet = betTypes[gameType];
            let number, amount;
            
            switch(gameType) {
                case 'lotto3':
                    number = document.getElementById('lotto3-number').value;
                    amount = parseInt(document.getElementById('lotto3-amount').value);
                    if (!/^\d{3}$/.test(number)) {
                        showNotification("Lotto 3 doit avoir 3 chiffres exacts", "warning");
                        return;
                    }
                    break;
                    
                case 'marriage':
                    const num1 = document.getElementById('marriage-number1').value;
                    const num2 = document.getElementById('marriage-number2').value;
                    number = `${num1}*${num2}`;
                    amount = parseInt(document.getElementById('marriage-amount').value);
                    
                    if (!/^\d{2}$/.test(num1) || !/^\d{2}$/.test(num2)) {
                        showNotification("Chaque chiffre mariage doit avoir 2 chiffres", "warning");
                        return;
                    }
                    break;
                    
                case 'borlette':
                case 'boulpe':
                    number = document.getElementById('borlette-number')?.value || document.getElementById('boulpe-number')?.value;
                    amount = parseInt(document.getElementById('borlette-amount')?.value || document.getElementById('boulpe-amount')?.value);
                    
                    if (!/^\d{2}$/.test(number)) {
                        showNotification("Doit avoir 2 chiffres", "warning");
                        return;
                    }
                    break;
                    
                case 'lotto4':
                    const num4_1 = document.getElementById('lotto4-number1').value;
                    const num4_2 = document.getElementById('lotto4-number2').value;
                    number = `${num4_1}${num4_2}`;
                    amount = parseInt(document.getElementById('lotto4-amount').value);
                    
                    if (!/^\d{2}$/.test(num4_1) || !/^\d{2}$/.test(num4_2)) {
                        showNotification("Chaque boule Lotto 4 doit avoir 2 chiffres", "warning");
                        return;
                    }
                    break;
                    
                case 'lotto5':
                    const num5_1 = document.getElementById('lotto5-number1').value;
                    const num5_2 = document.getElementById('lotto5-number2').value;
                    number = `${num5_1}${num5_2}`;
                    amount = parseInt(document.getElementById('lotto5-amount').value);
                    
                    if (!/^\d{3}$/.test(num5_1) || !/^\d{2}$/.test(num5_2)) {
                        showNotification("Lotto 5: Première boule 3 chiffres, Deuxième boule 2 chiffres", "warning");
                        return;
                    }
                    break;
                    
                case 'grap':
                    number = document.getElementById('grap-number').value;
                    amount = parseInt(document.getElementById('grap-amount').value);
                    
                    if (!/^\d{3}$/.test(number)) {
                        showNotification("Grap doit avoir 3 chiffres", "warning");
                        return;
                    }
                    break;
            }
            
            if (!number || isNaN(amount) || amount <= 0) {
                showNotification("Veuillez entrer un nombre et un montant valides", "warning");
                return;
            }
            
            activeBets.push({
                type: gameType,
                name: bet.name,
                number: number,
                amount: amount,
                multiplier: bet.multiplier,
                draw: currentDraw,
                drawTime: currentDrawTime
            });
            
            updateBetsList();
            showNotification("Paris ajouté avec succès!", "success");
            
            // Retourner à la liste des jeux
            setTimeout(() => {
                document.getElementById('bet-form').style.display = 'none';
                document.getElementById('games-interface').style.display = 'block';
            }, 500);
        }

        // Mettre à jour la liste des paris
        function updateBetsList() {
            const betsList = document.getElementById('bets-list');
            const betTotal = document.getElementById('bet-total');
            
            betsList.innerHTML = '';
            
            if (activeBets.length === 0) {
                betsList.innerHTML = '<p>Aucun pari actif.</p>';
                betTotal.textContent = '0 G';
                return;
            }
            
            activeBets.forEach((bet, index) => {
                const betItem = document.createElement('div');
                betItem.className = 'bet-item';
                
                betItem.innerHTML = `
                    <div class="bet-details">
                        <strong>${bet.name}</strong><br>
                        ${bet.number}
                    </div>
                    <div class="bet-amount">
                        ${bet.amount} G
                        <span class="bet-remove" data-index="${index}"><i class="fas fa-times"></i></span>
                    </div>
                `;
                
                betsList.appendChild(betItem);
                
                // Ajouter l'événement pour supprimer
                const removeBtn = betItem.querySelector('.bet-remove');
                removeBtn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    activeBets.splice(index, 1);
                    updateBetsList();
                });
            });
            
            const total = activeBets.reduce((sum, bet) => sum + bet.amount, 0);
            betTotal.textContent = `${total} G`;
        }

        // Soumettre les paris
        async function submitBets() {
            if (activeBets.length === 0) {
                showNotification("Aucun pari à soumettre", "warning");
                return;
            }
            
            const ticket = {
                draw: currentDraw,
                drawTime: currentDrawTime,
                bets: [...activeBets],
                total: activeBets.reduce((sum, bet) => sum + bet.amount, 0),
                agentId: currentUser?.id,
                agentName: currentUser?.name || currentUser?.username,
                date: new Date().toISOString()
            };
            
            try {
                if (!authToken) {
                    throw new Error("Non authentifié");
                }
                
                const response = await fetch(`${API_BASE_URL}/api/tickets/create`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-auth-token': authToken
                    },
                    body: JSON.stringify(ticket)
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showNotification("Ticket créé avec succès!", "success");
                    
                    // Réinitialiser les paris
                    activeBets = [];
                    updateBetsList();
                    closeBettingScreen();
                    
                    // Mettre à jour l'historique
                    if (document.getElementById('history-screen').style.display === 'block') {
                        loadHistory();
                    }
                } else {
                    throw new Error("Erreur création ticket");
                }
            } catch (error) {
                console.error("Erreur soumission paris:", error);
                
                // Sauvegarder localement en attendant la synchronisation
                ticket.id = Date.now().toString();
                pendingSyncTickets.push(ticket);
                localStorage.setItem('novaLottoPendingSync', JSON.stringify(pendingSyncTickets));
                
                showNotification("Ticket sauvegardé localement. Synchronisation à la prochaine connexion", "warning");
                
                activeBets = [];
                updateBetsList();
                closeBettingScreen();
            }
        }

        // Sauvegarder et imprimer le ticket
        async function saveAndPrintTicket() {
            if (activeBets.length === 0) {
                showNotification("Aucun pari à sauvegarder", "warning");
                return;
            }
            
            await submitBets();
            // L'impression se fera après la création du ticket
        }

        // Imprimer le ticket
        function printTicket() {
            const lastTicket = pendingSyncTickets[pendingSyncTickets.length - 1];
            if (!lastTicket) {
                showNotification("Aucun ticket à imprimer", "warning");
                return;
            }
            
            const printContent = document.createElement('div');
            printContent.className = 'print-ticket';
            
            let betsHTML = '';
            lastTicket.bets.forEach(bet => {
                betsHTML += `
                    <div style="margin-bottom: 10px; padding: 8px; background: #f8f9fa; border-radius: 4px;">
                        <div><strong>${bet.name}</strong>: ${bet.number}</div>
                        <div>Montant: ${bet.amount} G</div>
                    </div>
                `;
            });
            
            printContent.innerHTML = `
                <div style="text-align: center; padding: 20px; border: 2px solid #000; font-family: Arial, sans-serif;">
                    <div style="margin-bottom: 15px;">
                        <h2>NOVA LOTTO</h2>
                        <p>Ticket de Paris</p>
                    </div>
                    <p><strong>Numéro:</strong> #${lastTicket.id.substring(0, 8)}</p>
                    <p><strong>Date:</strong> ${new Date(lastTicket.date).toLocaleString('fr-FR')}</p>
                    <p><strong>Tiraj:</strong> ${draws[lastTicket.draw]?.name || lastTicket.draw} (${lastTicket.drawTime === 'morning' ? 'Matin' : 'Soir'})</p>
                    <p><strong>Agent:</strong> ${lastTicket.agentName}</p>
                    <hr>
                    <div style="margin: 15px 0;">
                        <h3>Paris</h3>
                        ${betsHTML}
                    </div>
                    <hr>
                    <div style="display: flex; justify-content: space-between; margin-top: 15px; font-weight: bold; font-size: 1.1rem;">
                        <span>Total:</span>
                        <span>${lastTicket.total} G</span>
                    </div>
                    <p style="margin-top: 20px;">Merci pour votre confiance!</p>
                </div>
            `;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                    <head>
                        <title>Ticket NOVA LOTTO</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
                            @media print {
                                body { margin: 0; padding: 0; }
                                @page { margin: 0; }
                            }
                        </style>
                    </head>
                    <body>
                        ${printContent.innerHTML}
                    </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }

        // Fermer l'écran de pari
        function closeBettingScreen() {
            const bettingScreen = document.getElementById('betting-screen');
            bettingScreen.classList.remove('slide-in');
            bettingScreen.classList.add('slide-out');
            
            setTimeout(() => {
                bettingScreen.style.display = 'none';
                document.querySelector('.container').style.display = 'block';
            }, 300);
        }

        // Afficher un écran spécifique
        function showScreen(screenId) {
            document.querySelectorAll('.screen, .betting-screen, .container, .report-screen, .results-check-screen, .multi-tickets-screen').forEach(screen => {
                screen.style.display = 'none';
            });
            
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-screen') === screenId) {
                    item.classList.add('active');
                }
            });
            
            if (screenId === 'home') {
                document.querySelector('.container').style.display = 'block';
            } else {
                const screen = document.getElementById(screenId + '-screen');
                if (screen) {
                    screen.style.display = 'block';
                    
                    if (screenId === 'history') {
                        loadHistory();
                    } else if (screenId === 'ticket-management') {
                        loadTicketManagement();
                    }
                }
            }
        }

        // Charger l'historique
        async function loadHistory() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '<p>Chargement de l\'historique...</p>';
            
            try {
                if (!authToken) {
                    throw new Error("Non authentifié");
                }
                
                const response = await fetch(`${API_BASE_URL}/api/tickets?agentId=${currentUser?.id}`, {
                    headers: {
                        'x-auth-token': authToken
                    }
                });
                
                if (response.ok) {
                    const tickets = await response.json();
                    displayHistory(tickets);
                } else {
                    throw new Error("Erreur chargement historique");
                }
            } catch (error) {
                console.error("Erreur chargement historique:", error);
                historyList.innerHTML = '<p>Erreur de chargement. Vérifiez votre connexion.</p>';
            }
        }

        // Afficher l'historique
        function displayHistory(tickets) {
            const historyList = document.getElementById('history-list');
            
            if (!tickets || tickets.length === 0) {
                historyList.innerHTML = '<p>Aucun ticket trouvé.</p>';
                return;
            }
            
            historyList.innerHTML = '';
            
            tickets.forEach(ticket => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const ticketDate = new Date(ticket.date);
                let betsHTML = '';
                
                if (ticket.bets && Array.isArray(ticket.bets)) {
                    ticket.bets.forEach(bet => {
                        betsHTML += `
                            <div class="history-bet">
                                <span>${bet.name}: ${bet.number}</span>
                                <span>${bet.amount} G</span>
                            </div>
                        `;
                    });
                }
                
                historyItem.innerHTML = `
                    <div class="history-header">
                        <span class="history-draw">${draws[ticket.draw]?.name || ticket.draw} (${ticket.drawTime === 'morning' ? 'Matin' : 'Soir'})</span>
                        <span class="history-date">${ticketDate.toLocaleString()}</span>
                    </div>
                    <div class="history-bets">
                        ${betsHTML}
                    </div>
                    <div class="history-total">
                        <span>Total:</span>
                        <span>${ticket.total || 0} G</span>
                    </div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        // Rechercher dans l'historique
        function searchHistory() {
            const searchTerm = document.getElementById('search-history').value.toLowerCase();
            const historyItems = document.querySelectorAll('#history-list .history-item');
            
            historyItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Charger la gestion des tickets
        async function loadTicketManagement() {
            const ticketList = document.getElementById('ticket-management-list');
            ticketList.innerHTML = '<p>Chargement des tickets...</p>';
            
            try {
                if (!authToken) {
                    throw new Error("Non authentifié");
                }
                
                const response = await fetch(`${API_BASE_URL}/api/tickets?agentId=${currentUser?.id}`, {
                    headers: {
                        'x-auth-token': authToken
                    }
                });
                
                if (response.ok) {
                    const tickets = await response.json();
                    displayTicketManagement(tickets);
                } else {
                    throw new Error("Erreur chargement tickets");
                }
            } catch (error) {
                console.error("Erreur chargement tickets:", error);
                ticketList.innerHTML = '<p>Erreur de chargement. Vérifiez votre connexion.</p>';
            }
        }

        // Afficher la gestion des tickets
        function displayTicketManagement(tickets) {
            const ticketList = document.getElementById('ticket-management-list');
            
            if (!tickets || tickets.length === 0) {
                ticketList.innerHTML = '<p>Aucun ticket trouvé.</p>';
                return;
            }
            
            ticketList.innerHTML = '';
            
            tickets.forEach(ticket => {
                const ticketItem = document.createElement('div');
                ticketItem.className = 'ticket-management';
                
                const ticketDate = new Date(ticket.date);
                
                ticketItem.innerHTML = `
                    <div class="ticket-management-header">
                        <span><strong>Ticket #${ticket.id?.substring(0, 8) || 'N/A'}</strong></span>
                        <span>${ticketDate.toLocaleDateString()}</span>
                    </div>
                    <div class="ticket-details">
                        <p><strong>${draws[ticket.draw]?.name || ticket.draw} (${ticket.drawTime === 'morning' ? 'Matin' : 'Soir'})</strong></p>
                        <p>Total: ${ticket.total || 0} G</p>
                        <p>Agent: ${ticket.agentName || 'N/A'}</p>
                    </div>
                `;
                
                ticketList.appendChild(ticketItem);
            });
        }

        // Rechercher un ticket
        function searchTicket() {
            const searchTerm = document.getElementById('search-ticket-number').value.toLowerCase();
            const ticketItems = document.querySelectorAll('#ticket-management-list .ticket-management');
            
            ticketItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Générer un rapport de fin de tirage
        async function generateEndOfDrawReport() {
            const reportScreen = document.getElementById('report-screen');
            const reportContent = document.getElementById('report-content');
            
            reportContent.innerHTML = '<p>Génération du rapport...</p>';
            
            try {
                if (!authToken) {
                    throw new Error("Non authentifié");
                }
                
                const response = await fetch(`${API_CONFIG.reports}?period=daily`, {
                    headers: {
                        'x-auth-token': authToken
                    }
                });
                
                if (response.ok) {
                    const report = await response.json();
                    displayReport(report);
                } else {
                    throw new Error("Erreur génération rapport");
                }
            } catch (error) {
                console.error("Erreur génération rapport:", error);
                reportContent.innerHTML = '<p>Erreur de génération du rapport.</p>';
            }
            
            document.querySelector('.container').style.display = 'none';
            reportScreen.style.display = 'block';
        }

        // Afficher le rapport
        function displayReport(report) {
            const reportContent = document.getElementById('report-content');
            
            reportContent.innerHTML = `
                <div class="report-header">
                    <h3>Rapport Fin de Tirage</h3>
                    <p>${new Date().toLocaleDateString('fr-FR')}</p>
                </div>
                <div class="report-details">
                    <div class="report-row">
                        <span>Performance Mensuelle:</span>
                        <span>${report.monthlyPerformance || 0}%</span>
                    </div>
                    <div class="report-row">
                        <span>Résolution Tickets:</span>
                        <span>${report.ticketResolution || 0}%</span>
                    </div>
                    <div class="report-row">
                        <span>Agents Actifs:</span>
                        <span>${report.activeAgents || 0}</span>
                    </div>
                    <div class="report-row">
                        <span>Tickets en Attente:</span>
                        <span>${report.pendingTickets || 0}</span>
                    </div>
                    <div class="report-row total">
                        <span>TOTAL:</span>
                        <span>${report.total || 0} G</span>
                    </div>
                </div>
            `;
        }

        // Ouvrir l'écran de vérification des résultats
        function openResultsCheckScreen() {
            document.querySelector('.container').style.display = 'none';
            document.getElementById('results-check-screen').style.display = 'block';
        }

        // Vérifier les tickets gagnants
        async function checkWinningTickets() {
            const winningContainer = document.getElementById('winning-tickets-container');
            winningContainer.innerHTML = '<p>Vérification des tickets gagnants...</p>';
            
            try {
                if (!authToken) {
                    throw new Error("Non authentifié");
                }
                
                const response = await fetch(`${API_BASE_URL}/api/tickets/winners`, {
                    headers: {
                        'x-auth-token': authToken
                    }
                });
                
                if (response.ok) {
                    const winners = await response.json();
                    displayWinningTickets(winners);
                } else {
                    throw new Error("Erreur vérification gagnants");
                }
            } catch (error) {
                console.error("Erreur vérification gagnants:", error);
                winningContainer.innerHTML = '<p>Erreur de vérification. Vérifiez votre connexion.</p>';
            }
        }

        // Afficher les tickets gagnants
        function displayWinningTickets(winners) {
            const winningContainer = document.getElementById('winning-tickets-container');
            const winningSummary = document.getElementById('winning-summary');
            
            if (!winners || winners.length === 0) {
                winningContainer.innerHTML = '<p>Aucun ticket gagnant trouvé.</p>';
                winningSummary.innerHTML = '';
                return;
            }
            
            const totalWinnings = winners.reduce((sum, ticket) => sum + (ticket.winnings || 0), 0);
            
            winningSummary.innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${winners.length}</div>
                    <div class="stat-label">Tickets Gagnants</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${totalWinnings} G</div>
                    <div class="stat-label">Gains Totaux</div>
                </div>
            `;
            
            winningContainer.innerHTML = '';
            
            winners.forEach(ticket => {
                const ticketDiv = document.createElement('div');
                ticketDiv.className = 'winning-ticket';
                
                ticketDiv.innerHTML = `
                    <div style="margin-bottom: 10px;">
                        <strong>Ticket #${ticket.id?.substring(0, 8) || 'N/A'}</strong>
                        <div style="font-size: 0.9rem; color: #7f8c8d;">
                            ${draws[ticket.draw]?.name || ticket.draw} (${ticket.drawTime === 'morning' ? 'Matin' : 'Soir'})
                        </div>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>Gains:</strong> ${ticket.winnings || 0} G
                    </div>
                    <div class="bet-total">
                        <span>Agent:</span>
                        <span>${ticket.agentName || 'N/A'}</span>
                    </div>
                `;
                
                winningContainer.appendChild(ticketDiv);
            });
        }

        // Afficher une notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let icon = 'fas fa-info-circle';
            if (type === 'success') icon = 'fas fa-check-circle';
            if (type === 'warning') icon = 'fas fa-exclamation-triangle';
            if (type === 'error') icon = 'fas fa-times-circle';
            
            notification.innerHTML = `
                <i class="${icon}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translate(-50%, 20px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Initialiser le panneau multi-tirages
        function initMultiDrawPanel() {
            const multiDrawOptions = document.getElementById('multi-draw-options');
            const multiGameSelect = document.getElementById('multi-game-select');
            
            multiDrawOptions.innerHTML = '';
            multiGameSelect.innerHTML = '';
            
            // Options de tirage
            Object.keys(draws).forEach(drawId => {
                const option = document.createElement('div');
                option.className = 'multi-draw-option';
                option.setAttribute('data-draw', drawId);
                option.textContent = draws[drawId].name;
                
                option.addEventListener('click', function() {
                    this.classList.toggle('selected');
                });
                
                multiDrawOptions.appendChild(option);
            });
            
            // Options de jeu
            const games = [
                { id: 'borlette', name: 'BORLETTE' },
                { id: 'boulpe', name: 'BOUL PE' },
                { id: 'lotto3', name: 'LOTO 3' },
                { id: 'marriage', name: 'MARIAGE' }
            ];
            
            games.forEach(game => {
                const option = document.createElement('div');
                option.className = 'multi-game-option';
                if (game.id === 'borlette') {
                    option.classList.add('selected');
                }
                option.setAttribute('data-game', game.id);
                option.textContent = game.name;
                
                option.addEventListener('click', function() {
                    document.querySelectorAll('.multi-game-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
                
                multiGameSelect.appendChild(option);
            });
        }

        // Afficher/masquer le panneau multi-tirages
        function toggleMultiDrawPanel() {
            const content = document.getElementById('multi-draw-content');
            const toggleBtn = document.getElementById('multi-draw-toggle');
            
            content.classList.toggle('expanded');
            
            if (content.classList.contains('expanded')) {
                toggleBtn.innerHTML = '<i class="fas fa-chevron-up"></i>';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-chevron-down"></i>';
            }
        }

        // Ajouter au ticket multi-tirages
        function addToMultiDrawTicket() {
            const amount = parseInt(document.getElementById('multi-draw-amount').value);
            const selectedDraws = document.querySelectorAll('.multi-draw-option.selected');
            const selectedGame = document.querySelector('.multi-game-option.selected');
            
            if (selectedDraws.length === 0) {
                showNotification("Veuillez sélectionner au moins un tirage", "warning");
                return;
            }
            
            if (!selectedGame) {
                showNotification("Veuillez sélectionner un jeu", "warning");
                return;
            }
            
            const gameId = selectedGame.getAttribute('data-game');
            const game = betTypes[gameId];
            
            if (!game) {
                showNotification("Jeu non valide", "error");
                return;
            }
            
            showNotification(`Paris ajouté pour ${selectedDraws.length} tirage(s)`, "success");
        }

        // Voir le ticket multi-tirages actuel
        function viewCurrentMultiDrawTicket() {
            showNotification("Fonctionnalité en développement", "info");
        }

        // Sauvegarder et imprimer le ticket multi-tirages
        function saveAndPrintMultiDrawTicket() {
            showNotification("Fonctionnalité en développement", "info");
        }

        // Ouvrir l'écran des tickets multi-tirages
        function openMultiTicketsScreen() {
            document.querySelector('.container').style.display = 'none';
            document.getElementById('multi-tickets-screen').style.display = 'block';
            
            const ticketsList = document.getElementById('multi-tickets-list');
            ticketsList.innerHTML = '<p>Fonctionnalité en développement</p>';
        }
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('Service Worker enregistré', reg))
                .catch(err => console.log('Échec d\'enregistrement', err));
        }
    </script>
</body>
</html>